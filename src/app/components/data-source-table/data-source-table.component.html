<div>
    <div class="header">
        <mat-form-field class="search">
            <input matInput #filter placeholder="{{ 'Filter' | translate }}">
        </mat-form-field>
        <mat-paginator #paginator [pageIndex]="0" [pageSize]="10"></mat-paginator>
    </div>

    <mat-table #table [dataSource]="dataSource" matSort [ngClass]="{'selectable':selectable}">
        <ng-container *ngFor="let header of headers">
            <ng-container matColumnDef="{{header.key}}">
                <mat-header-cell *matHeaderCellDef translate mat-sort-header>{{ header.name }}</mat-header-cell>
                <mat-cell *matCellDef="let row">
                    <!-- Todo: besseres input feld? -->
                    <input matInput [placeholder]="header.name" [(ngModel)]="row[header.key]" [type]="header.type" (change)="onChange(row)">
                </mat-cell>
            </ng-container>
        </ng-container>

        <ng-container matColumnDef="" *ngIf="selectable">
            <mat-header-cell *matHeaderCellDef class="checkbox-row">
            </mat-header-cell>
            <mat-cell *matCellDef="let row" class="checkbox-row">
                <mat-checkbox class="checkbox" (click)="toggleChecked(row)" [(ngModel)]="row.checked"></mat-checkbox>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="cols"></mat-header-row>
        <mat-row *matRowDef="let row; columns: cols;" (click)="onSelected(row)"></mat-row>
    </mat-table>
</div>